{"openapi":"3.1.0","info":{"title":"Unified Swagger","version":"0.4.0"},"paths":{"/ml/train":{"post":{"tags":["Machine Learning"],"summary":"Train Ml Model","description":"Train ML model for signal prediction","operationId":"train_ml_model_ml_train_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrainModelRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/predict/{signal_type}":{"post":{"tags":["Machine Learning"],"summary":"Predict Signal","description":"Get ML prediction for a signal","operationId":"predict_signal_ml_predict__signal_type__post","parameters":[{"name":"signal_type","in":"path","required":true,"schema":{"type":"string","title":"Signal Type"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictSignalRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/optimize-stop-loss":{"post":{"tags":["Machine Learning"],"summary":"Optimize Stop Loss","description":"Optimize stop loss using ML","operationId":"optimize_stop_loss_ml_optimize_stop_loss_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizeStopLossRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/analyze-signals":{"post":{"tags":["Machine Learning"],"summary":"Analyze Signals","description":"Analyze historical signal performance","operationId":"analyze_signals_ml_analyze_signals_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyzeSignalsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/portfolio/backtest":{"post":{"tags":["Machine Learning"],"summary":"Run Portfolio Backtest","description":"Run portfolio-level backtest","operationId":"run_portfolio_backtest_ml_portfolio_backtest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioBacktestRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/paper-trading":{"post":{"tags":["Machine Learning"],"summary":"Control Paper Trading","description":"Control paper trading engine","operationId":"control_paper_trading_ml_paper_trading_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaperTradingRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/models":{"get":{"tags":["Machine Learning"],"summary":"List Models","description":"List available ML models","operationId":"list_models_ml_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ml/performance/ml":{"get":{"tags":["Machine Learning"],"summary":"Get Ml Performance","description":"Get ML model performance metrics","operationId":"get_ml_performance_ml_performance_ml_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ml/exit/analyze-lifecycle":{"post":{"tags":["ML Exit Strategies"],"summary":"Analyze Trade Lifecycle","description":"Analyze complete lifecycle of trades to identify profit patterns\n\nReturns:\n- Maximum profit points\n- Time to peak profit\n- Profit decay patterns\n- Optimal exit timing","operationId":"analyze_trade_lifecycle_ml_exit_analyze_lifecycle_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LifecycleAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/exit/discover-patterns":{"post":{"tags":["ML Exit Strategies"],"summary":"Discover Exit Patterns","description":"Discover optimal exit patterns from historical data\n\nReturns:\n- Time-based patterns (best exit times)\n- Day-specific patterns (Wednesday morning, Thursday expiry)\n- Profit-based patterns (exit at X% of max profit)\n- Volatility patterns (exit during high volatility)","operationId":"discover_exit_patterns_ml_exit_discover_patterns_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExitPatternRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/exit/optimize-stoploss":{"post":{"tags":["ML Exit Strategies"],"summary":"Optimize Stop-Loss Strategies","description":"Test and optimize multiple stop-loss strategies\n\nReturns:\n- Optimal stop-loss strategy for each signal\n- Comparison of different strategies\n- False stop analysis\n- Risk-reward optimization","operationId":"optimize_stop_loss_ml_exit_optimize_stoploss_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StopLossOptimizationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/exit/get-exit-recommendation":{"post":{"tags":["ML Exit Strategies"],"summary":"Get Real-Time Exit Recommendation","description":"Get real-time exit recommendation for an active trade\n\nBased on:\n- Current P&L and time in trade\n- Discovered exit patterns\n- Market conditions\n\nReturns:\n- Action: hold, partial_exit, full_exit, trail_stop\n- Exit percentage\n- Confidence score\n- Reasoning","operationId":"get_exit_recommendation_ml_exit_get_exit_recommendation_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrentTradeState"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/exit/optimal-exit/{trade_id}":{"post":{"tags":["ML Exit Strategies"],"summary":"Get Optimal Exit for Specific Trade","description":"Analyze a specific trade and determine optimal exit point\n\nReturns:\n- When the trade should have been exited\n- How much profit was left on table\n- Recommended exit strategy for similar trades","operationId":"get_optimal_exit_ml_exit_optimal_exit__trade_id__post","parameters":[{"name":"trade_id","in":"path","required":true,"schema":{"type":"integer","title":"Trade Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/exit/exit-rules":{"get":{"tags":["ML Exit Strategies"],"summary":"Get Current Exit Rules","description":"Get current exit rules for all signals\n\nReturns configured exit strategies and patterns","operationId":"get_exit_rules_ml_exit_exit_rules_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ml/exit/train-exit-predictor":{"post":{"tags":["ML Exit Strategies"],"summary":"Train ML Exit Predictor","description":"Train ML models to predict optimal exit timing\n\nModels trained:\n- XGBoost\n- LightGBM  \n- Random Forest\n- Ensemble\n\nReturns best performing model and feature importance","operationId":"train_exit_predictor_ml_exit_train_exit_predictor_post","parameters":[{"name":"from_date","in":"query","required":false,"schema":{"type":"string","format":"date","default":"2025-01-01","title":"From Date"}},{"name":"to_date","in":"query","required":false,"schema":{"type":"string","format":"date","default":"2025-08-06","title":"To Date"}},{"name":"signal_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Signal Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/exit/predict-exit":{"post":{"tags":["ML Exit Strategies"],"summary":"Get ML Exit Prediction","description":"Get ML prediction for optimal exit action\n\nReturns:\n- Action: HOLD, PARTIAL_EXIT, FULL_EXIT\n- Confidence score\n- Risk assessment\n- Expected profit","operationId":"predict_exit_ml_exit_predict_exit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrentTradeState"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/exit/update-trailing-stop":{"post":{"tags":["ML Exit Strategies"],"summary":"Update Trailing Stop","description":"Update trailing stop for active trade\n\nReturns current stop level and distance","operationId":"update_trailing_stop_ml_exit_update_trailing_stop_post","parameters":[{"name":"trade_id","in":"query","required":true,"schema":{"type":"integer","title":"Trade Id"}},{"name":"signal_type","in":"query","required":true,"schema":{"type":"string","title":"Signal Type"}},{"name":"current_pnl","in":"query","required":true,"schema":{"type":"number","title":"Current Pnl"}},{"name":"max_pnl","in":"query","required":true,"schema":{"type":"number","title":"Max Pnl"}},{"name":"current_price","in":"query","required":true,"schema":{"type":"number","title":"Current Price"}},{"name":"entry_price","in":"query","required":true,"schema":{"type":"number","title":"Entry Price"}},{"name":"entry_time","in":"query","required":true,"schema":{"type":"string","format":"date-time","title":"Entry Time"}},{"name":"current_volatility","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Current Volatility"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/exit/trailing-stop-config/{signal_type}":{"get":{"tags":["ML Exit Strategies"],"summary":"Get Trailing Stop Config","description":"Get optimal trailing stop configuration for signal","operationId":"get_trailing_stop_config_ml_exit_trailing_stop_config__signal_type__get","parameters":[{"name":"signal_type","in":"path","required":true,"schema":{"type":"string","title":"Signal Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/exit/classify-regime":{"post":{"tags":["ML Exit Strategies"],"summary":"Classify Market Regime","description":"Classify current market regime\n\nReturns:\n- Current regime (trending, range-bound, volatile, etc.)\n- Trading recommendations\n- Position size adjustments","operationId":"classify_market_regime_ml_exit_classify_regime_post","parameters":[{"name":"symbol","in":"query","required":false,"schema":{"type":"string","default":"NIFTY","title":"Symbol"}},{"name":"lookback_days","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Lookback Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/exit/train-regime-classifier":{"post":{"tags":["ML Exit Strategies"],"summary":"Train Regime Classifier","description":"Train market regime classifier on historical data","operationId":"train_regime_classifier_ml_exit_train_regime_classifier_post","parameters":[{"name":"from_date","in":"query","required":false,"schema":{"type":"string","format":"date","default":"2024-01-01","title":"From Date"}},{"name":"to_date","in":"query","required":false,"schema":{"type":"string","format":"date","default":"2025-08-06","title":"To Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/backtest/run":{"post":{"tags":["ML Backtest"],"summary":"Run ML-Enhanced Backtest","description":"Run backtest with ML exit optimization and 5-minute granularity\n\nFeatures:\n- ML-powered exit predictions\n- Dynamic trailing stops\n- Profit target optimization\n- Position adjustments\n- Market regime filtering\n- 5-minute bar processing\n\nReturns backtest ID for tracking","operationId":"run_ml_backtest_ml_backtest_run_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunMLBacktestRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/backtest/compare":{"post":{"tags":["ML Optimization"],"summary":"Compare Ml Vs Regular","description":"Compare ML vs regular backtest performance","operationId":"compare_ml_vs_regular_ml_backtest_compare_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Request"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/backtest/results/{backtest_id}":{"get":{"tags":["ML Backtest"],"summary":"Get ML Backtest Results","description":"Get detailed results of ML-enhanced backtest\n\nReturns comprehensive metrics including ML-specific performance","operationId":"get_ml_backtest_results_ml_backtest_results__backtest_id__get","parameters":[{"name":"backtest_id","in":"path","required":true,"schema":{"type":"string","title":"Backtest Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/backtest/live-signals":{"get":{"tags":["ML Backtest"],"summary":"Get Live ML Trading Signals","description":"Get current ML-powered trading recommendations\n\nReturns signals with ML confidence scores and exit strategies","operationId":"get_live_ml_signals_ml_backtest_live_signals_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ml/optimize/hedge":{"post":{"tags":["ML Optimization"],"summary":"Optimize Hedge Parameters","description":"Optimize hedge parameters","operationId":"optimize_hedge_parameters_ml_optimize_hedge_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_optimize_hedge_parameters_ml_optimize_hedge_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/analyze/hourly-exit":{"post":{"tags":["ML Optimization"],"summary":"Analyze Hourly Exits","description":"Analyze optimal hourly exit patterns","operationId":"analyze_hourly_exits_ml_analyze_hourly_exit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/optimize/trailing-stoploss":{"post":{"tags":["ML Optimization"],"summary":"Optimize Trailing Stoploss","description":"Optimize trailing stop-loss parameters","operationId":"optimize_trailing_stoploss_ml_optimize_trailing_stoploss_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/optimize/breakeven":{"post":{"tags":["ML Optimization"],"summary":"Optimize Breakeven","description":"Optimize breakeven timing parameters","operationId":"optimize_breakeven_ml_optimize_breakeven_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/optimize/position-stoploss":{"post":{"tags":["ML Optimization"],"summary":"Optimize Position Stoploss","description":"Optimize overall position stop-loss","operationId":"optimize_position_stoploss_ml_optimize_position_stoploss_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/analyze/signals":{"post":{"tags":["ML Optimization"],"summary":"Analyze Signals","description":"Analyze signal behavior and find Iron Condor opportunities","operationId":"analyze_signals_ml_analyze_signals_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignalAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/dashboard":{"post":{"tags":["ML Optimization"],"summary":"Ml Dashboard","description":"Get ML system dashboard","operationId":"ml_dashboard_ml_dashboard_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ml/dashboard/{optimizer}":{"post":{"tags":["ML Optimization"],"summary":"Get Optimizer Status","description":"Get status of specific optimizer","operationId":"get_optimizer_status_ml_dashboard__optimizer__post","parameters":[{"name":"optimizer","in":"path","required":true,"schema":{"type":"string","title":"Optimizer"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/backtest":{"post":{"tags":["ML Optimization"],"summary":"Ml Enhanced Backtest","description":"Run backtest with ML optimizations","operationId":"ml_enhanced_backtest_ml_backtest_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Request"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/backtest":{"post":{"tags":["Backtest"],"summary":"Run Backtest","description":"Run Backtest - Deletes existing trades for the period and runs fresh","operationId":"run_backtest_backtest_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BacktestRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Backtest"],"summary":"Run Backtest Get","description":"Run Backtest Get","operationId":"run_backtest_get_backtest_get","parameters":[{"name":"from_date","in":"query","required":false,"schema":{"type":"string","format":"date","default":"2025-07-14","title":"From Date"}},{"name":"to_date","in":"query","required":false,"schema":{"type":"string","format":"date","default":"2025-07-14","title":"To Date"}},{"name":"initial_capital","in":"query","required":false,"schema":{"type":"number","default":500000,"title":"Initial Capital"}},{"name":"lot_size","in":"query","required":false,"schema":{"type":"integer","default":75,"title":"Lot Size"}},{"name":"lots_to_trade","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Lots To Trade"}},{"name":"signals_to_test","in":"query","required":false,"schema":{"type":"string","default":"S1,S2,S3,S4,S5,S6,S7,S8","title":"Signals To Test"}},{"name":"use_hedging","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Use Hedging"}},{"name":"hedge_offset","in":"query","required":false,"schema":{"type":"integer","default":200,"title":"Hedge Offset"}},{"name":"commission_per_lot","in":"query","required":false,"schema":{"type":"number","default":40,"title":"Commission Per Lot"}},{"name":"wednesday_exit_enabled","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Wednesday Exit Enabled"}},{"name":"wednesday_exit_time","in":"query","required":false,"schema":{"type":"string","default":"15:15","title":"Wednesday Exit Time"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/backtest/history":{"get":{"tags":["Backtest"],"summary":"Get Backtest History","description":"Get recent backtest history from database","operationId":"get_backtest_history_backtest_history_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/backtest/{backtest_id}/details":{"get":{"tags":["Backtest"],"summary":"Get Backtest Details","description":"Get detailed results for a specific backtest","operationId":"get_backtest_details_backtest__backtest_id__details_get","parameters":[{"name":"backtest_id","in":"path","required":true,"schema":{"type":"string","title":"Backtest Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/backtest/progressive-sl":{"post":{"tags":["Backtest"],"summary":"Run Progressive Sl Backtest","description":"Run backtest with progressive P&L-based stop-loss.\n\nThis enhanced backtest includes:\n- Initial P&L stop-loss: Rs 6000 per lot\n- Progressive adjustments based on time and profit\n- Both index-based and P&L-based stop-losses\n- 5-minute P&L tracking using options data\n\nStop-Loss Progression:\n1. If profit > 40% of max receivable → Move to breakeven\n2. Day 2 at 1 PM → Move SL to 50% of initial (Rs 3000/lot)\n3. Day 3 → Move SL to breakeven\n4. Day 4 → Lock minimum 5% profit","operationId":"run_progressive_sl_backtest_backtest_progressive_sl_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProgressiveSLBacktestRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/backtest/progressive-sl/{backtest_id}/summary":{"get":{"tags":["Backtest"],"summary":"Get Progressive Sl Summary","description":"Get detailed P&L progression summary for a progressive SL backtest.\nShows how stop-losses evolved and their impact on trades.","operationId":"get_progressive_sl_summary_backtest_progressive_sl__backtest_id__summary_get","parameters":[{"name":"backtest_id","in":"path","required":true,"schema":{"type":"string","title":"Backtest Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/signals/statistics":{"get":{"tags":["Signals"],"summary":"Get Signal Statistics","description":"Get performance statistics for all signals","operationId":"get_signal_statistics_signals_statistics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/signals/recent":{"get":{"tags":["Signals"],"summary":"Get Recent Signals","description":"Get recent signal occurrences from backtests","operationId":"get_recent_signals_signals_recent_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collect/nifty-direct":{"post":{"tags":["NIFTY Collection"],"summary":"Collect Nifty Direct","description":"Collect Nifty Direct","operationId":"collect_nifty_direct_collect_nifty_direct_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NiftyCollectionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collect/nifty-bulk":{"post":{"tags":["NIFTY Collection"],"summary":"Collect Nifty Bulk","description":"Collect Nifty Bulk","operationId":"collect_nifty_bulk_collect_nifty_bulk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NiftyCollectionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collect/options-direct":{"post":{"tags":["Options Collection"],"summary":"Collect Options Direct","description":"Collect Options Direct","operationId":"collect_options_direct_collect_options_direct_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptionsCollectionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collect/options-bulk":{"post":{"tags":["Options Collection"],"summary":"Collect Options Bulk","description":"Collect Options Bulk","operationId":"collect_options_bulk_collect_options_bulk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptionsCollectionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collect/options-specific":{"post":{"tags":["Options Collection"],"summary":"Collect Specific Options","description":"Collect Specific Options Strikes","operationId":"collect_specific_options_collect_options_specific_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpecificOptionsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/collect/options-by-signals":{"post":{"tags":["Options Collection"],"summary":"Collect Options By Signals","description":"Collect Options By Signals","operationId":"collect_options_by_signals_api_v1_collect_options_by_signals_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptionsCollectionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/collect/options-by-signals-fast":{"post":{"tags":["Options Collection"],"summary":"Collect Options By Signals Fast","description":"Collect Options By Signals Fast","operationId":"collect_options_by_signals_fast_api_v1_collect_options_by_signals_fast_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptionsCollectionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/collect/options-by-signals-optimized":{"post":{"tags":["Options Collection"],"summary":"Collect Options By Signals Optimized","description":"Collect Options By Signals Optimized","operationId":"collect_options_by_signals_optimized_api_v1_collect_options_by_signals_optimized_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptionsCollectionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collect/missing-from-insights":{"post":{"tags":["Options Collection"],"summary":"Collect Missing From Insights","description":"Collect missing strikes from WeeklySignalInsights_ConsolidatedResults table\n\nThis endpoint reads the MissingOptionStrikes column from the table\nand fetches only those specific strikes that are missing.","operationId":"collect_missing_from_insights_collect_missing_from_insights_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/status/{job_id}":{"get":{"tags":["Job Management"],"summary":"Get Job Status","description":"Get Job Status","operationId":"get_job_status_status__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/test-background-task":{"get":{"tags":["Testing"],"summary":"Test Background Functionality","description":"Test Background Functionality","operationId":"test_background_functionality_test_background_task_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/data/check":{"get":{"tags":["Data Check"],"summary":"Check Data Availability","description":"Check Data Availability","operationId":"check_data_availability_data_check_get","parameters":[{"name":"from_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"From Date"}},{"name":"to_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"To Date"}},{"name":"symbol","in":"query","required":false,"schema":{"type":"string","default":"NIFTY","title":"Symbol"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/check-options":{"get":{"tags":["Data Check"],"summary":"Check Options Availability","description":"Check Options Availability","operationId":"check_options_availability_data_check_options_get","parameters":[{"name":"from_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"From Date"}},{"name":"to_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"To Date"}},{"name":"symbol","in":"query","required":false,"schema":{"type":"string","default":"NIFTY","title":"Symbol"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/delete/nifty-direct":{"delete":{"tags":["Data Deletion"],"summary":"Delete Nifty Data","description":"Delete Nifty Data","operationId":"delete_nifty_data_delete_nifty_direct_delete","parameters":[{"name":"from_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"From Date"}},{"name":"to_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"To Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/delete/options-direct":{"delete":{"tags":["Data Deletion"],"summary":"Delete Options Data","description":"Delete Options Data","operationId":"delete_options_data_delete_options_direct_delete","parameters":[{"name":"from_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"From Date"}},{"name":"to_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"To Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/delete/all":{"delete":{"tags":["Data Deletion"],"summary":"Delete All Data","description":"Delete All Data","operationId":"delete_all_data_delete_all_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/collect/tradingview":{"post":{"tags":["TradingView Collection"],"summary":"Collect Tradingview Data","description":"Collect Tradingview Data","operationId":"collect_tradingview_data_collect_tradingview_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TradingViewRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/collect/tradingview-bulk":{"post":{"tags":["TradingView Collection"],"summary":"Collect Tradingview Bulk Data","description":"Collect Tradingview Bulk Data","operationId":"collect_tradingview_bulk_data_collect_tradingview_bulk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TradingViewRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/tradingview/check":{"get":{"tags":["TradingView Collection"],"summary":"Check Tradingview Data","description":"Check Tradingview Data","operationId":"check_tradingview_data_tradingview_check_get","parameters":[{"name":"from_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"From Date"}},{"name":"to_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"To Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/holidays/{year}":{"get":{"tags":["Holiday Management"],"summary":"Get Holidays","description":"Get Holidays","operationId":"get_holidays_api_v1_holidays__year__get","parameters":[{"name":"year","in":"path","required":true,"schema":{"type":"integer","title":"Year"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/holidays/load-defaults":{"post":{"tags":["Holiday Management"],"summary":"Load Default Holidays","description":"Load Default Holidays","operationId":"load_default_holidays_api_v1_holidays_load_defaults_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/holidays/check/{date}":{"get":{"tags":["Holiday Management"],"summary":"Check Holiday","description":"Check Holiday","operationId":"check_holiday_api_v1_holidays_check__date__get","parameters":[{"name":"date","in":"path","required":true,"schema":{"type":"string","format":"date","title":"Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/holidays/trading-days":{"get":{"tags":["Holiday Management"],"summary":"Get Trading Days","description":"Get Trading Days","operationId":"get_trading_days_api_v1_holidays_trading_days_get","parameters":[{"name":"from_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"From Date"}},{"name":"to_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"To Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/holidays/load-all-defaults":{"post":{"tags":["Holiday Management"],"summary":"Load All Default Holidays","description":"Load All Default Holidays","operationId":"load_all_default_holidays_api_v1_holidays_load_all_defaults_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/holidays/fetch-from-nse":{"post":{"tags":["Holiday Management"],"summary":"Fetch Holidays From Nse","description":"Fetch Holidays From Nse","operationId":"fetch_holidays_from_nse_api_v1_holidays_fetch_from_nse_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/collect/weekly-data":{"post":{"tags":["Weekly Collection"],"summary":"Collect Weekly Data","description":"Collect Weekly Data","operationId":"collect_weekly_data_api_v1_collect_weekly_data_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WeeklyDataRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"tags":["General"],"summary":"Root","description":"Root endpoint","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"tags":["General"],"summary":"Health Check","description":"Health check endpoint","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/session/validate":{"get":{"tags":["Session Management"],"summary":"Validate Session","description":"Validate external API session","operationId":"validate_session_session_validate_get","parameters":[{"name":"api_type","in":"query","required":false,"schema":{"type":"string","default":"breeze","title":"Api Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/session/update":{"post":{"tags":["Session Management"],"summary":"Update Session","description":"Update session token for external API","operationId":"update_session_session_update_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/session/instructions":{"get":{"tags":["Session Management"],"summary":"Get Session Instructions","description":"Get instructions for updating session token","operationId":"get_session_instructions_session_instructions_get","parameters":[{"name":"api_type","in":"query","required":false,"schema":{"type":"string","default":"breeze","title":"Api Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login":{"post":{"tags":["Authentication"],"summary":"Login","description":"Simple login endpoint for development","operationId":"login_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/logout":{"post":{"tags":["Authentication"],"summary":"Logout","description":"Logout endpoint","operationId":"logout_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/user":{"get":{"tags":["Authentication"],"summary":"Get Current User","description":"Get current user info","operationId":"get_current_user_auth_user_get","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/live/auth/status":{"get":{"tags":["Live Trading - Auth"],"summary":"Get Auth Status","description":"Get Kite authentication status","operationId":"get_auth_status_live_auth_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/live/auth/login-url":{"get":{"tags":["Live Trading - Auth"],"summary":"Get Login Url","description":"Get Kite login URL for authentication","operationId":"get_login_url_live_auth_login_url_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/live/auth/complete":{"post":{"tags":["Live Trading - Auth"],"summary":"Complete Authentication","description":"Complete authentication with request token","operationId":"complete_authentication_live_auth_complete_post","parameters":[{"name":"request_token","in":"query","required":true,"schema":{"type":"string","title":"Request Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/live/start-trading":{"post":{"tags":["Live Trading - Control"],"summary":"Start Live Trading","description":"Enable live trading with configuration","operationId":"start_live_trading_live_start_trading_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LiveTradingConfig"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/live/stop-trading":{"post":{"tags":["Live Trading - Control"],"summary":"Stop Live Trading","description":"Disable live trading","operationId":"stop_live_trading_live_stop_trading_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/live/positions":{"get":{"tags":["Live Trading - Monitoring"],"summary":"Get Live Positions","description":"Get current live positions","operationId":"get_live_positions_live_positions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/live/execute-signal":{"post":{"tags":["Live Trading - Execution"],"summary":"Execute Manual Signal","description":"Manually execute a trading signal","operationId":"execute_manual_signal_live_execute_signal_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ManualSignalRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/live/pnl":{"get":{"tags":["Live Trading - Monitoring"],"summary":"Get Live Pnl","description":"Get real-time P&L","operationId":"get_live_pnl_live_pnl_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/live/square-off":{"post":{"tags":["Live Trading - Control"],"summary":"Square Off All Positions","description":"Emergency square-off all positions","operationId":"square_off_all_positions_live_square_off_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/live/stop-loss/status":{"get":{"tags":["Live Trading - Risk Management"],"summary":"Get Stop Loss Status","description":"Get stop loss monitoring status","operationId":"get_stop_loss_status_live_stop_loss_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/live/stop-loss/summary":{"get":{"tags":["Live Trading - Risk Management"],"summary":"Get Stop Loss Summary","description":"Get stop loss summary for the day","operationId":"get_stop_loss_summary_live_stop_loss_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/live/trades/active":{"get":{"tags":["Live Trading - Monitoring"],"summary":"Get Active Trades","description":"Get all active trades","operationId":"get_active_trades_live_trades_active_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ml/validate":{"post":{"tags":["ML Validation"],"summary":"Create Ml Validation","description":"Run comprehensive ML validation with hedge optimization, market classification, and breakeven analysis","operationId":"create_ml_validation_ml_validate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MLValidationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/validate/{validation_id}":{"get":{"tags":["ML Validation"],"summary":"Get Ml Validation Status","description":"Get ML validation status and results","operationId":"get_ml_validation_status_ml_validate__validation_id__get","parameters":[{"name":"validation_id","in":"path","required":true,"schema":{"type":"string","title":"Validation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/validate/{validation_id}/detailed":{"get":{"tags":["ML Validation"],"summary":"Get Ml Validation Detailed","description":"Get detailed ML validation results","operationId":"get_ml_validation_detailed_ml_validate__validation_id__detailed_get","parameters":[{"name":"validation_id","in":"path","required":true,"schema":{"type":"string","title":"Validation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/analyze-with-gemini/{validation_id}":{"post":{"tags":["ML Validation"],"summary":"Analyze With Gemini","description":"Run Gemini AI analysis on validation results","operationId":"analyze_with_gemini_ml_analyze_with_gemini__validation_id__post","parameters":[{"name":"validation_id","in":"path","required":true,"schema":{"type":"string","title":"Validation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/overview":{"get":{"tags":["Data Management"],"summary":"Get Database Overview","description":"Get database statistics and overview","operationId":"get_database_overview_data_overview_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/data/tables":{"get":{"tags":["Data Management"],"summary":"Get All Tables","description":"Get list of all database tables with details","operationId":"get_all_tables_data_tables_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/data/quality":{"get":{"tags":["Data Management"],"summary":"Check Data Quality","description":"Check data quality and find issues","operationId":"check_data_quality_data_quality_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/dashboard/stats":{"get":{"tags":["Dashboard"],"summary":"Get Dashboard Stats","description":"Get real-time dashboard statistics","operationId":"get_dashboard_stats_dashboard_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ml/current-metrics":{"get":{"tags":["ML Analysis"],"summary":"Get Ml Current Metrics","description":"Get current ML model metrics","operationId":"get_ml_current_metrics_ml_current_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/risk/analysis":{"get":{"tags":["Risk Management"],"summary":"Get Risk Analysis","description":"Get real-time portfolio risk analysis","operationId":"get_risk_analysis_risk_analysis_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/session/history":{"get":{"tags":["Session Management"],"summary":"Get Session History","description":"Get session event history","operationId":"get_session_history_session_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/settings":{"get":{"tags":["Settings"],"summary":"Get User Settings","description":"Get user settings and preferences","operationId":"get_user_settings_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["Settings"],"summary":"Save User Settings","description":"Save user settings and preferences","operationId":"save_user_settings_settings_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Settings"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/market/live":{"get":{"tags":["Market Data"],"summary":"Get Live Market Data","description":"Get real-time market data from database","operationId":"get_live_market_data_market_live_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/signals/detect":{"get":{"tags":["Signals"],"summary":"Detect Live Signals","description":"Detect trading signals from current market data","operationId":"detect_live_signals_signals_detect_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/backup/status":{"get":{"tags":["System"],"summary":"Get Backup Status","description":"Get database backup status and history","operationId":"get_backup_status_backup_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/backup/create":{"post":{"tags":["System"],"summary":"Create Backup","description":"Create a database backup","operationId":"create_backup_backup_create_post","parameters":[{"name":"backup_type","in":"query","required":false,"schema":{"type":"string","default":"manual","title":"Backup Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/table/{table_name}":{"get":{"tags":["Data Management"],"summary":"View Table Data","description":"View data from a specific table","operationId":"view_table_data_data_table__table_name__get","parameters":[{"name":"table_name","in":"path","required":true,"schema":{"type":"string","title":"Table Name"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/table/{table_name}/clean":{"post":{"tags":["Data Management"],"summary":"Clean Table Duplicates","description":"Remove duplicate records from a table","operationId":"clean_table_duplicates_data_table__table_name__clean_post","parameters":[{"name":"table_name","in":"path","required":true,"schema":{"type":"string","title":"Table Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/table/{table_name}/export":{"get":{"tags":["Data Management"],"summary":"Export Table To Csv","description":"Export table data to CSV format","operationId":"export_table_to_csv_data_table__table_name__export_get","parameters":[{"name":"table_name","in":"path","required":true,"schema":{"type":"string","title":"Table Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/operations/clean-duplicates":{"post":{"tags":["Data Management"],"summary":"Clean All Duplicates","description":"Remove duplicates from all tables","operationId":"clean_all_duplicates_data_operations_clean_duplicates_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/data/operations/archive-old":{"post":{"tags":["Data Management"],"summary":"Archive Old Data","description":"Archive data older than specified days","operationId":"archive_old_data_data_operations_archive_old_post","parameters":[{"name":"days_old","in":"query","required":false,"schema":{"type":"integer","default":365,"title":"Days Old"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/operations/rebuild-indexes":{"post":{"tags":["Data Management"],"summary":"Rebuild Database Indexes","description":"Rebuild all database indexes for better performance","operationId":"rebuild_database_indexes_data_operations_rebuild_indexes_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ml/training/progress/{task_id}":{"get":{"tags":["ML"],"summary":"Get Training Progress","description":"Get ML model training progress","operationId":"get_training_progress_ml_training_progress__task_id__get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/data/operations/validate":{"post":{"tags":["Data Management"],"summary":"Validate Data","description":"Validate data integrity across all tables","operationId":"validate_data_data_operations_validate_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/data/operations/optimize":{"post":{"tags":["Data Management"],"summary":"Optimize Tables","description":"Optimize database tables for better performance","operationId":"optimize_tables_data_operations_optimize_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/data/operations/analyze-patterns":{"get":{"tags":["Data Management"],"summary":"Analyze Data Patterns","description":"Analyze data patterns and anomalies","operationId":"analyze_data_patterns_data_operations_analyze_patterns_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/data/export/excel":{"get":{"tags":["Data Management"],"summary":"Export To Excel","description":"Export data to Excel format","operationId":"export_to_excel_data_export_excel_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ml/optimize/all":{"post":{"tags":["ML Optimization"],"summary":"Optimize All Ml Parameters","description":"Run all ML optimizations","operationId":"optimize_all_ml_parameters_ml_optimize_all_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_optimize_all_ml_parameters_ml_optimize_all_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/optimize/hedge/apply":{"post":{"tags":["ML Optimization"],"summary":"Apply Hedge Optimization","description":"Apply optimized hedge parameters","operationId":"apply_hedge_optimization_ml_optimize_hedge_apply_post","requestBody":{"content":{"application/json":{"schema":{"type":"integer","title":"Offset"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/optimize/exit/apply":{"post":{"tags":["ML Optimization"],"summary":"Apply Exit Optimization","description":"Apply optimized exit strategy","operationId":"apply_exit_optimization_ml_optimize_exit_apply_post","requestBody":{"content":{"application/json":{"schema":{"type":"string","title":"Exit Time"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/optimize/stoploss/apply":{"post":{"tags":["ML Optimization"],"summary":"Apply Stoploss Optimization","description":"Apply optimized stop loss strategy","operationId":"apply_stoploss_optimization_ml_optimize_stoploss_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_apply_stoploss_optimization_ml_optimize_stoploss_apply_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/optimize/position/apply":{"post":{"tags":["ML Optimization"],"summary":"Apply Position Optimization","description":"Apply optimized position sizing","operationId":"apply_position_optimization_ml_optimize_position_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_apply_position_optimization_ml_optimize_position_apply_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/optimize/signals/apply":{"post":{"tags":["ML Optimization"],"summary":"Apply Signal Optimization","description":"Apply optimized signal selection","operationId":"apply_signal_optimization_ml_optimize_signals_apply_post","requestBody":{"content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Signals"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/optimize/breakeven/apply":{"post":{"tags":["ML Optimization"],"summary":"Apply Breakeven Optimization","description":"Apply breakeven strategy","operationId":"apply_breakeven_optimization_ml_optimize_breakeven_apply_post","requestBody":{"content":{"application/json":{"schema":{"type":"number","title":"Trigger Profit"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ml/optimize/apply-all":{"post":{"tags":["ML Optimization"],"summary":"Apply All Optimizations","description":"Apply all ML optimizations at once","operationId":"apply_all_optimizations_ml_optimize_apply_all_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_apply_all_optimizations_ml_optimize_apply_all_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/auto-login/breeze":{"post":{"tags":["Auto Login"],"summary":"Trigger Breeze Auto Login","description":"Trigger Breeze auto-login\nAutomatically uses TOTP if configured, otherwise requires manual OTP","operationId":"trigger_breeze_auto_login_auth_auto_login_breeze_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/auto-login/kite":{"post":{"tags":["Auto Login"],"summary":"Trigger Kite Auto Login","description":"Trigger Kite auto-login\nRuns in background to avoid timeout","operationId":"trigger_kite_auto_login_auth_auto_login_kite_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/auto-login/status":{"get":{"tags":["Auto Login"],"summary":"Get Auto Login Status","description":"Get the current session status and configuration","operationId":"get_auto_login_status_auth_auto_login_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/auto-login/schedule/start":{"post":{"tags":["Auto Login"],"summary":"Start Auto Login Scheduler","description":"Start the auto-login scheduler","operationId":"start_auto_login_scheduler_auth_auto_login_schedule_start_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/auto-login/schedule/stop":{"post":{"tags":["Auto Login"],"summary":"Stop Auto Login Scheduler","description":"Stop the auto-login scheduler","operationId":"stop_auto_login_scheduler_auth_auto_login_schedule_stop_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/auto-login/schedule/status":{"get":{"tags":["Auto Login"],"summary":"Get Scheduler Status","description":"Get the current scheduler status and configuration","operationId":"get_scheduler_status_auth_auto_login_schedule_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/auto-login/schedule/update":{"post":{"tags":["Auto Login"],"summary":"Update Scheduler Config","description":"Update scheduler configuration for a specific service","operationId":"update_scheduler_config_auth_auto_login_schedule_update_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_update_scheduler_config_auth_auto_login_schedule_update_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/kite/auto-connect":{"post":{"tags":["Auto Login"],"summary":"Kite Auto Connect","description":"Automatically login to Kite if not connected","operationId":"kite_auto_connect_auth_kite_auto_connect_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/auto-login/credentials/setup":{"post":{"tags":["Auto Login"],"summary":"Setup Credentials","description":"Save credentials for auto-login\nNote: This should only be used during initial setup","operationId":"setup_credentials_auth_auto_login_credentials_setup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_setup_credentials_auth_auto_login_credentials_setup_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/db/status":{"get":{"tags":["Database Auth"],"summary":"Get Db Auth Status","description":"Get authentication status from database","operationId":"get_db_auth_status_auth_db_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/db/breeze/login":{"post":{"tags":["Database Auth"],"summary":"Db Breeze Login","description":"Perform Breeze auto-login and save to database","operationId":"db_breeze_login_auth_db_breeze_login_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/db/kite/login":{"post":{"tags":["Database Auth"],"summary":"Db Kite Login","description":"Perform Kite auto-login and save to database","operationId":"db_kite_login_auth_db_kite_login_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/db/disconnect/{service}":{"post":{"tags":["Database Auth"],"summary":"Db Disconnect","description":"Disconnect and deactivate session in database","operationId":"db_disconnect_auth_db_disconnect__service__post","parameters":[{"name":"service","in":"path","required":true,"schema":{"type":"string","title":"Service"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/db/cleanup":{"post":{"tags":["Database Auth"],"summary":"Cleanup Expired Sessions","description":"Clean up expired authentication sessions","operationId":"cleanup_expired_sessions_auth_db_cleanup_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AnalyzeSignalsRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date","description":"Start date"},"to_date":{"type":"string","format":"date","title":"To Date","description":"End date"},"signals":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Signals","description":"Specific signals to analyze"}},"type":"object","required":["from_date","to_date"],"title":"AnalyzeSignalsRequest","description":"Request for signal performance analysis"},"BacktestRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date","default":"2025-07-14"},"to_date":{"type":"string","format":"date","title":"To Date","default":"2025-07-14"},"initial_capital":{"type":"number","title":"Initial Capital","default":500000},"lot_size":{"type":"integer","title":"Lot Size","default":75},"lots_to_trade":{"type":"integer","title":"Lots To Trade","default":10},"signals_to_test":{"items":{"type":"string"},"type":"array","title":"Signals To Test","default":["S1","S2","S3","S4","S5","S6","S7","S8"]},"use_hedging":{"type":"boolean","title":"Use Hedging","default":true},"hedge_offset":{"type":"integer","title":"Hedge Offset","default":200},"commission_per_lot":{"type":"number","title":"Commission Per Lot","default":40},"slippage_percent":{"type":"number","title":"Slippage Percent","default":0.001},"wednesday_exit_enabled":{"type":"boolean","title":"Wednesday Exit Enabled","default":true},"wednesday_exit_time":{"type":"string","title":"Wednesday Exit Time","default":"15:15"},"auto_fetch_missing_data":{"type":"boolean","title":"Auto Fetch Missing Data","default":true},"fetch_batch_size":{"type":"integer","title":"Fetch Batch Size","default":100}},"type":"object","title":"BacktestRequest"},"Body_apply_all_optimizations_ml_optimize_apply_all_post":{"properties":{"hedge_offset":{"type":"integer","title":"Hedge Offset"},"exit_time":{"type":"string","title":"Exit Time"},"stop_loss_method":{"type":"string","title":"Stop Loss Method"},"position_method":{"type":"string","title":"Position Method"},"signals":{"items":{"type":"string"},"type":"array","title":"Signals"},"breakeven_trigger":{"type":"number","title":"Breakeven Trigger"}},"type":"object","required":["hedge_offset","exit_time","stop_loss_method","position_method","signals","breakeven_trigger"],"title":"Body_apply_all_optimizations_ml_optimize_apply_all_post"},"Body_apply_position_optimization_ml_optimize_position_apply_post":{"properties":{"method":{"type":"string","title":"Method"},"max_lots":{"type":"integer","title":"Max Lots"}},"type":"object","required":["method","max_lots"],"title":"Body_apply_position_optimization_ml_optimize_position_apply_post"},"Body_apply_stoploss_optimization_ml_optimize_stoploss_apply_post":{"properties":{"method":{"type":"string","title":"Method"},"trailing_after":{"type":"number","title":"Trailing After"}},"type":"object","required":["method","trailing_after"],"title":"Body_apply_stoploss_optimization_ml_optimize_stoploss_apply_post"},"Body_optimize_all_ml_parameters_ml_optimize_all_post":{"properties":{"from_date":{"type":"string","title":"From Date"},"to_date":{"type":"string","title":"To Date"},"risk_tolerance":{"type":"string","title":"Risk Tolerance","default":"moderate"},"optimization_goal":{"type":"string","title":"Optimization Goal","default":"min_risk"}},"type":"object","required":["from_date","to_date"],"title":"Body_optimize_all_ml_parameters_ml_optimize_all_post"},"Body_optimize_hedge_parameters_ml_optimize_hedge_post":{"properties":{"from_date":{"type":"string","title":"From Date"},"to_date":{"type":"string","title":"To Date"}},"type":"object","required":["from_date","to_date"],"title":"Body_optimize_hedge_parameters_ml_optimize_hedge_post"},"Body_setup_credentials_auth_auto_login_credentials_setup_post":{"properties":{"service":{"type":"string","title":"Service","description":"Service name: 'breeze' or 'kite'"},"credentials":{"additionalProperties":{"type":"string"},"type":"object","title":"Credentials","description":"Credentials to save"}},"type":"object","required":["service","credentials"],"title":"Body_setup_credentials_auth_auto_login_credentials_setup_post"},"Body_update_scheduler_config_auth_auto_login_schedule_update_post":{"properties":{"service":{"type":"string","title":"Service","description":"Service name: 'breeze' or 'kite'"},"config":{"additionalProperties":true,"type":"object","title":"Config","description":"New configuration for the service"}},"type":"object","required":["service","config"],"title":"Body_update_scheduler_config_auth_auto_login_schedule_update_post"},"CompareBacktestRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date"},"to_date":{"type":"string","format":"date","title":"To Date"},"signals_to_test":{"items":{"type":"string"},"type":"array","title":"Signals To Test","default":["S1","S3","S7"]}},"type":"object","required":["from_date","to_date"],"title":"CompareBacktestRequest"},"CurrentTradeState":{"properties":{"signal_type":{"type":"string","title":"Signal Type"},"entry_time":{"type":"string","format":"date-time","title":"Entry Time"},"entry_price":{"type":"number","title":"Entry Price"},"current_price":{"type":"number","title":"Current Price"},"current_pnl":{"type":"number","title":"Current Pnl"},"max_pnl":{"type":"number","title":"Max Pnl"},"time_in_trade_hours":{"type":"number","title":"Time In Trade Hours"},"day_of_week":{"type":"string","title":"Day Of Week"},"hour":{"type":"integer","title":"Hour"},"quantity":{"type":"integer","title":"Quantity","default":750},"volatility":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Volatility"},"delta":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Delta"}},"type":"object","required":["signal_type","entry_time","entry_price","current_price","current_pnl","max_pnl","time_in_trade_hours","day_of_week","hour"],"title":"CurrentTradeState"},"ExitPatternRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date","default":"2025-01-01"},"to_date":{"type":"string","format":"date","title":"To Date","default":"2025-08-06"},"min_pattern_occurrences":{"type":"integer","title":"Min Pattern Occurrences","default":2}},"type":"object","title":"ExitPatternRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LifecycleAnalysisRequest":{"properties":{"trade_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Trade Id"},"from_date":{"type":"string","format":"date","title":"From Date","default":"2025-01-01"},"to_date":{"type":"string","format":"date","title":"To Date","default":"2025-08-06"},"granularity_minutes":{"type":"integer","title":"Granularity Minutes","default":5}},"type":"object","title":"LifecycleAnalysisRequest"},"LiveTradingConfig":{"properties":{"enabled":{"type":"boolean","title":"Enabled","default":false},"lot_size":{"type":"integer","title":"Lot Size","default":75},"num_lots":{"type":"integer","title":"Num Lots","default":10},"use_hedging":{"type":"boolean","title":"Use Hedging","default":true},"max_positions":{"type":"integer","title":"Max Positions","default":1}},"type":"object","title":"LiveTradingConfig"},"LoginRequest":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"LoginRequest"},"LoginResponse":{"properties":{"username":{"type":"string","title":"Username"},"token":{"type":"string","title":"Token"},"role":{"type":"string","title":"Role","default":"user"}},"type":"object","required":["username","token"],"title":"LoginResponse"},"MLValidationRequest":{"properties":{"from_date":{"type":"string","title":"From Date"},"to_date":{"type":"string","title":"To Date"},"hedge_distances":{"items":{"type":"integer"},"type":"array","title":"Hedge Distances","default":[100,150,200,250,300]},"breakeven_strategies":{"additionalProperties":true,"type":"object","title":"Breakeven Strategies","default":{"dynamic":true,"trailing_stop":false,"profit_thresholds":[10,15,20,25,30],"time_thresholds":[60,120,240,480]}},"early_exit_days":{"items":{"type":"string"},"type":"array","title":"Early Exit Days","default":["Monday","Tuesday","Wednesday"]},"detail_level":{"type":"string","title":"Detail Level","default":"summary"},"gemini_analysis":{"type":"boolean","title":"Gemini Analysis","default":false},"include_slippage":{"type":"boolean","title":"Include Slippage","default":true},"commission_per_lot":{"type":"number","title":"Commission Per Lot","default":40.0}},"type":"object","required":["from_date","to_date"],"title":"MLValidationRequest"},"ManualSignalRequest":{"properties":{"signal_type":{"type":"string","title":"Signal Type"},"current_spot":{"type":"number","title":"Current Spot"}},"type":"object","required":["signal_type","current_spot"],"title":"ManualSignalRequest"},"NiftyCollectionRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date"},"to_date":{"type":"string","format":"date","title":"To Date"},"symbol":{"type":"string","title":"Symbol","default":"NIFTY"},"force_refresh":{"type":"boolean","title":"Force Refresh","default":false}},"type":"object","required":["from_date","to_date"],"title":"NiftyCollectionRequest"},"OptimizationRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date"},"to_date":{"type":"string","format":"date","title":"To Date"},"signal_types":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Signal Types"}},"type":"object","required":["from_date","to_date"],"title":"OptimizationRequest"},"OptimizeStopLossRequest":{"properties":{"signal_type":{"type":"string","title":"Signal Type","description":"Signal type"},"entry_price":{"type":"number","title":"Entry Price","description":"Entry price"},"direction":{"type":"string","title":"Direction","description":"Trade direction: BULLISH or BEARISH"},"market_features":{"additionalProperties":{"type":"number"},"type":"object","title":"Market Features","description":"Current market features"}},"type":"object","required":["signal_type","entry_price","direction","market_features"],"title":"OptimizeStopLossRequest","description":"Request for stop loss optimization"},"OptionsCollectionRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date"},"to_date":{"type":"string","format":"date","title":"To Date"},"symbol":{"type":"string","title":"Symbol","default":"NIFTY"},"strike_range":{"type":"integer","title":"Strike Range","default":1000},"use_optimization":{"type":"boolean","title":"Use Optimization","default":true},"strike_interval":{"type":"integer","title":"Strike Interval","default":100}},"type":"object","required":["from_date","to_date"],"title":"OptionsCollectionRequest"},"PaperTradingRequest":{"properties":{"action":{"type":"string","title":"Action","description":"Action: start, stop, status"},"use_ml":{"type":"boolean","title":"Use Ml","description":"Use ML models for filtering","default":true},"ml_threshold":{"type":"number","title":"Ml Threshold","description":"ML confidence threshold","default":0.6}},"type":"object","required":["action"],"title":"PaperTradingRequest","description":"Request for paper trading control"},"PortfolioBacktestRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date","description":"Start date"},"to_date":{"type":"string","format":"date","title":"To Date","description":"End date"},"strategies":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Strategies","description":"List of strategy configurations"},"initial_capital":{"type":"number","title":"Initial Capital","description":"Initial capital","default":500000},"allocation_method":{"type":"string","title":"Allocation Method","description":"Allocation method","default":"equal_weight"},"rebalance_frequency":{"type":"string","title":"Rebalance Frequency","description":"Rebalance frequency","default":"weekly"}},"type":"object","required":["from_date","to_date","strategies"],"title":"PortfolioBacktestRequest","description":"Request for portfolio backtest"},"PredictSignalRequest":{"properties":{"signal_type":{"type":"string","title":"Signal Type","description":"Signal type (S1-S8)"},"market_data":{"additionalProperties":{"type":"number"},"type":"object","title":"Market Data","description":"Current market data features"},"use_ensemble":{"type":"boolean","title":"Use Ensemble","description":"Use ensemble model","default":false}},"type":"object","required":["signal_type","market_data"],"title":"PredictSignalRequest","description":"Request for signal prediction"},"ProgressiveSLBacktestRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date","default":"2025-07-14"},"to_date":{"type":"string","format":"date","title":"To Date","default":"2025-07-14"},"initial_capital":{"type":"number","title":"Initial Capital","default":500000},"lot_size":{"type":"integer","title":"Lot Size","default":75},"lots_to_trade":{"type":"integer","title":"Lots To Trade","default":10},"signals_to_test":{"items":{"type":"string"},"type":"array","title":"Signals To Test","default":["S1","S2","S3","S4","S5","S6","S7","S8"]},"use_hedging":{"type":"boolean","title":"Use Hedging","default":true},"hedge_offset":{"type":"integer","title":"Hedge Offset","default":200},"commission_per_lot":{"type":"number","title":"Commission Per Lot","default":40},"slippage_percent":{"type":"number","title":"Slippage Percent","default":0.001},"wednesday_exit_enabled":{"type":"boolean","title":"Wednesday Exit Enabled","default":true},"wednesday_exit_time":{"type":"string","title":"Wednesday Exit Time","default":"15:15"},"auto_fetch_missing_data":{"type":"boolean","title":"Auto Fetch Missing Data","default":true},"fetch_batch_size":{"type":"integer","title":"Fetch Batch Size","default":100},"use_pnl_stop_loss":{"type":"boolean","title":"Use Pnl Stop Loss","default":true},"initial_sl_per_lot":{"type":"number","title":"Initial Sl Per Lot","default":6000},"profit_trigger_percent":{"type":"number","title":"Profit Trigger Percent","default":40},"day2_sl_factor":{"type":"number","title":"Day2 Sl Factor","default":0.5},"day3_breakeven":{"type":"boolean","title":"Day3 Breakeven","default":true},"day4_profit_lock_percent":{"type":"number","title":"Day4 Profit Lock Percent","default":5},"track_5min_pnl":{"type":"boolean","title":"Track 5Min Pnl","default":true}},"type":"object","title":"ProgressiveSLBacktestRequest","description":"Request model for progressive P&L stop-loss backtest"},"RunMLBacktestRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date"},"to_date":{"type":"string","format":"date","title":"To Date"},"initial_capital":{"type":"number","title":"Initial Capital","default":500000},"lots_to_trade":{"type":"integer","title":"Lots To Trade","default":10},"signals_to_test":{"items":{"type":"string"},"type":"array","title":"Signals To Test","default":["S1","S2","S3","S4","S5","S6","S7","S8"]},"use_hedging":{"type":"boolean","title":"Use Hedging","default":true},"hedge_offset":{"type":"integer","title":"Hedge Offset","default":200},"use_ml_exits":{"type":"boolean","title":"Use Ml Exits","default":true},"use_trailing_stops":{"type":"boolean","title":"Use Trailing Stops","default":true},"use_profit_targets":{"type":"boolean","title":"Use Profit Targets","default":true},"use_position_adjustments":{"type":"boolean","title":"Use Position Adjustments","default":true},"use_regime_filter":{"type":"boolean","title":"Use Regime Filter","default":true},"granularity_minutes":{"type":"integer","title":"Granularity Minutes","default":5},"ml_confidence_threshold":{"type":"number","title":"Ml Confidence Threshold","default":0.7},"partial_exit_enabled":{"type":"boolean","title":"Partial Exit Enabled","default":true},"wednesday_exit_enabled":{"type":"boolean","title":"Wednesday Exit Enabled","default":true},"breakeven_enabled":{"type":"boolean","title":"Breakeven Enabled","default":true}},"type":"object","required":["from_date","to_date"],"title":"RunMLBacktestRequest"},"SessionUpdateRequest":{"properties":{"session_token":{"type":"string","title":"Session Token"},"api_type":{"type":"string","title":"Api Type","default":"breeze"}},"type":"object","required":["session_token"],"title":"SessionUpdateRequest"},"SignalAnalysisRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date"},"to_date":{"type":"string","format":"date","title":"To Date"}},"type":"object","required":["from_date","to_date"],"title":"SignalAnalysisRequest"},"SpecificOptionsRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date"},"to_date":{"type":"string","format":"date","title":"To Date"},"strikes":{"items":{"type":"integer"},"type":"array","title":"Strikes"},"option_types":{"items":{"type":"string"},"type":"array","title":"Option Types","default":["CE","PE"]},"symbol":{"type":"string","title":"Symbol","default":"NIFTY"}},"type":"object","required":["from_date","to_date","strikes"],"title":"SpecificOptionsRequest"},"StopLossOptimizationRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date","default":"2025-01-01"},"to_date":{"type":"string","format":"date","title":"To Date","default":"2025-08-06"},"signal_types":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Signal Types"}},"type":"object","title":"StopLossOptimizationRequest"},"TradingViewRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date"},"to_date":{"type":"string","format":"date","title":"To Date"},"symbol":{"type":"string","title":"Symbol","default":"NIFTY"},"interval":{"type":"string","title":"Interval","default":"5minute"}},"type":"object","required":["from_date","to_date"],"title":"TradingViewRequest"},"TrainModelRequest":{"properties":{"model_type":{"type":"string","title":"Model Type","description":"Model type: xgboost, lightgbm, random_forest, ensemble","default":"xgboost"},"signal_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Signal Type","description":"Specific signal type (S1-S8) or None for all"},"from_date":{"type":"string","format":"date","title":"From Date","description":"Start date for training data"},"to_date":{"type":"string","format":"date","title":"To Date","description":"End date for training data"},"feature_set":{"type":"string","title":"Feature Set","description":"Feature set to use: all, technical, market_structure","default":"all"},"optimize_hyperparameters":{"type":"boolean","title":"Optimize Hyperparameters","description":"Whether to optimize hyperparameters","default":false}},"type":"object","required":["from_date","to_date"],"title":"TrainModelRequest","description":"Request for training ML model"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WeeklyDataRequest":{"properties":{"from_date":{"type":"string","format":"date","title":"From Date"},"to_date":{"type":"string","format":"date","title":"To Date"},"symbol":{"type":"string","title":"Symbol","default":"NIFTY"},"strike_range":{"type":"integer","title":"Strike Range","default":1000}},"type":"object","required":["from_date","to_date"],"title":"WeeklyDataRequest"}}}}